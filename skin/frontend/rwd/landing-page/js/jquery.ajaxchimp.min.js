!function(a){"use strict";a.ajaxChimp={responses:{"Nous vous avons envoyé un email de confirmation. Merci de consulter votre boite mail.":0,"Merci d'entrer une valeur":1,"Une adresse email doit contenir une @":2,"Le domaine de l'adresse email que vous avez renseigné est invalide":3,"Le nom d'utilisateur de l'adresse mail que vous avez renseigné est invalide":4,"Cet email semble erroné ou faux. Merci d'entrer une adresse email existante.":5},translations:{en:null},init:function(e,s){a(e).ajaxChimp(s)}},a.fn.ajaxChimp=function(e){return a(this).each(function(s,n){var i=a(n),r=i.find("input[type=email]"),t=i.find("label[for="+r.attr("id")+"]"),l=a.extend({url:i.attr("action"),language:"en"},e),o=l.url.replace("/post?","/post-json?").concat("&c=?");i.attr("novalidate","true"),r.attr("name","EMAIL"),i.submit(function(){function e(e){if("success"===e.result)s="WNous vous avons envoyé un email de confirmation. Merci de consulter votre boite mail.",t.removeClass("error").addClass("valid"),r.removeClass("error").addClass("valid");else{r.removeClass("valid").addClass("error"),t.removeClass("valid").addClass("error");var s,n=-1;try{var i=e.msg.split(" - ",2);if(void 0===i[1])s=e.msg;else{var o=parseInt(i[0],10);o.toString()===i[0]?(n=i[0],s=i[1]):(n=-1,s=e.msg)}}catch(u){n=-1,s=e.msg}}"en"!==l.language&&a.ajaxChimp.responses[s]&&a.ajaxChimp.translations&&a.ajaxChimp.translations[l.language]&&a.ajaxChimp.translations[l.language][a.ajaxChimp.responses[s]]&&(s=a.ajaxChimp.translations[l.language][a.ajaxChimp.responses[s]]),t.html(s),t.show(2e3),l.callback&&l.callback(e)}var s={},n=i.serializeArray();a.each(n,function(a,e){s[e.name]=e.value}),a.ajax({url:o,data:s,success:e,dataType:"jsonp",error:function(a,e){console.log("mailchimp ajax submit error: "+e)}});var u="Envoi...";return"en"!==l.language&&a.ajaxChimp.translations&&a.ajaxChimp.translations[l.language]&&a.ajaxChimp.translations[l.language].submit&&(u=a.ajaxChimp.translations[l.language].submit),t.html(u).show(2e3),!1})}),this}}(jQuery);